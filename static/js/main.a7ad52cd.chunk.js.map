{"version":3,"sources":["components/home.tsx","components/about.tsx","assets/code-samples/examples.ts","workers/system.worker.ts","components/playground.tsx","components/dev.tsx","components/license.tsx","components/footer.tsx","assets/svg/composita-icon.tsx","components/navigation.tsx","components/index.tsx","index.tsx"],"names":["Home","to","className","this","renderHome","Component","About","href","renderAbout","CodeSamples","samples","Map","get","Worker","Playground","props","runner","undefined","runCode","a","setState","runningCode","postMessage","fn","uri","state","selectedSample","code","cancelRunCode","updateDropdownSelection","event","target","value","loadSample","lastCode","getSamples","updateCode","clearOutput","output","defaultSelection","msg","samplesDropdown","Array","keys","filename","push","data-tokens","data-live-search","onChange","type","onClick","cssClass","text","bind","CompositaSystem","addEventListener","updateOutput","data","running","terminate","options","mode","lineNumbers","viewportMargin","Infinity","editor","_data","position","getCursor","setCursor","line","ch","renderRunCancelButton","renderDropdown","renderPlayground","DevInfo","renderDev","License","license","error","fetch","response","console","renderLicense","Footer","withRouter","Icon","viewBox","height","width","fontWeight","fontFamily","aria-label","style","lineHeight","fontVariantLigatures","fontVariantCaps","fontVariantNumeric","fontVariantEastAsian","fontSize","fill","strokeWidth","d","fillRule","mixBlendMode","opacity","Navigation","onNavbarCollaps","log","navbarCollapsed","route","location","pathname","aria-expanded","id","setActiveCSS","setSRCurrent","Index","basename","role","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qPAGaA,EAAb,2KAEQ,OACI,gCACI,8GACA,sDACyB,cAAC,IAAD,CAAMC,GAAG,QAAT,wBADzB,0CAGA,qGACwE,cAAC,IAAD,CAAMA,GAAG,OAAT,uBAAiC,IADzG,mCAIA,sGACyE,cAAC,IAAD,CAAMA,GAAG,SAAT,mBADzE,YAZhB,+BAoBQ,OACI,sBAAKC,UAAU,YAAf,UACI,kEACCC,KAAKC,oBAvBtB,GAA0BC,aCDbC,EAAb,4KAEQ,OACI,gCACI,mFACA,mHACA,kJAGI,+BACI,6BACI,mBAAGC,KAAK,4CAAR,+CAEJ,6BACI,mBAAGA,KAAK,4BAAR,8CAEJ,6BACI,mBAAGA,KAAK,wCAAR,uFAMZ,4DACA,+CAxBhB,+BA8BQ,OACI,sBAAKL,UAAU,YAAf,UACI,uCACCC,KAAKK,qBAjCtB,GAA2BH,a,yCCFdI,G,YAAb,iDACqBC,QAA+B,IAAIC,IAAoB,CACpE,CACI,iBADJ,wFAOA,CACI,kBADJ,wQAmBA,CACI,uBADJ,4xFA5BR,yDAuHuC,IAAD,IAE9B,OAAO,IAAIA,IAAoB,CAC3B,CAAC,iBAAD,UAAmBR,KAAKO,QAAQE,IAAI,yBAApC,QAAyD,IACzD,CAAC,kBAAD,UAAoBT,KAAKO,QAAQE,IAAI,0BAArC,QAA2D,UA3HvE,MCAe,aACb,OAAO,IAAIC,OAAO,IAA0B,+CCkBjCC,EAAb,kDACI,WAAYC,GAAiB,IAAD,8BACxB,cAAMA,IAYFC,YAA2BC,EAbP,EA4BpBC,QA5BoB,sBA4BW,4BAAAC,EAAA,sDACnC,EAAKC,SAAS,CAAEC,aAAa,IAC7B,YAAKL,cAAL,SAAaM,YAAY,CAAEC,GAAI,MAAOC,IAAK,EAAKC,MAAMC,eAAgBC,KAAM,EAAKF,MAAME,OACvF,EAAKP,SAAS,CAAEF,SAAS,IAHU,2CA5BX,EAkCpBU,cAlCoB,sBAkCiB,4BAAAT,EAAA,sDACzC,YAAKH,cAAL,SAAaM,YAAY,CAAEC,GAAI,SAC/B,EAAKH,SAAS,CAAEF,SAAS,IAFgB,2CAlCjB,EAuCpBW,wBAA2E,SAC/EC,GAEA,EAAKV,SAAS,CAAEM,eAAgBI,EAAMC,OAAOC,SA1CrB,EAkEpBC,WAAyB,WAAO,IAAD,EACnCnB,EAAWoB,SAAX,UAAsBpB,EAAWJ,QAAQyB,aAAavB,IAAI,EAAKa,MAAMC,uBAArE,QAAwFZ,EAAWoB,SACnG,EAAKE,cApEmB,EAuEpBC,YAA0B,WAC9B,EAAKjB,SAAS,CAAEkB,OAAQ,GAAIpB,SAAS,KAtErC,EAAKO,MAAQ,CACTP,SAAS,EACTS,KAAMb,EAAWoB,SACjBI,OAAQ,GACRZ,eAAgBZ,EAAWyB,iBAC3BlB,aAAa,GAPO,EADhC,yDAkByBmB,QACLvB,IAARuB,GAGJrC,KAAKiB,SAAS,CAAEkB,OAAQnC,KAAKsB,MAAMa,OAASE,MAtBpD,mCA0BQrC,KAAKiB,SAAS,CAAEO,KAAMb,EAAWoB,SAAUhB,SAAS,MA1B5D,uCA+CQ,IADkC,EAC5BuB,EAAkB,IAAIC,MADM,cAEX5B,EAAWJ,QAAQyB,aAAaQ,QAFrB,IAElC,2BAA+D,CAAC,IAArDC,EAAoD,QAC3DH,EAAgBI,KACZ,wBAAuBC,cAAA,UAAgBF,GAAvC,SACKA,GADQA,KAJa,8BASlC,OACI,sBAAK1C,UAAU,cAAf,UACI,wBAAQA,UAAU,oBAAoB6C,mBAAiB,OAAOC,SAAU7C,KAAK0B,wBAA7E,SACKY,IAEL,wBAAQQ,KAAK,SAAS/C,UAAU,yBAAyBgD,QAAS/C,KAAK8B,WAAvE,uBA5DhB,4CA4EkCkB,EAAkBC,EAAc7B,GAC1D,OACI,wBAAQ0B,KAAK,SAAS/C,UAAS,kBAAaiD,EAAb,cAAmCD,QAAS3B,EAAG8B,KAAKlD,MAAnF,SACKiD,MA/EjB,0CAoF+B,IAAD,OACtBjD,KAAKa,OAAS,IAAIsC,EAClBnD,KAAKa,OAAOuC,iBAAiB,WAAW,SAACzB,GACrC,EAAK0B,aAAa1B,EAAM2B,KAAKnB,QAC7B,EAAKlB,SAAS,CAAEC,YAAaS,EAAM2B,KAAKC,eAxFpD,6CA4FkC,IAAD,IACzB,UAAAvD,KAAKa,cAAL,SAAaM,YAAY,CAAEC,GAAI,OAAQC,IAAK,GAAIG,KAAM,KACtD,UAAAxB,KAAKa,cAAL,SAAa2C,cA9FrB,yCAiG6C,IAAD,OACpC,OACI,gCACI,sBAAKzD,UAAU,YAAf,UACI,cAAC,eAAD,CACI8B,MAAO7B,KAAKsB,MAAME,KAClBiC,QAAS,CACLC,KAAM,aACNC,aAAa,EACbC,eAAgBC,KAEpBhB,SAAU,SAACiB,EAAQC,EAAOlC,GACtB,IAAMmC,EAAWF,EAAOG,YACxB,EAAKhD,SAAS,CACVO,KAAMK,IAEVlB,EAAWoB,SAAWF,EACtBiC,EAAOI,UAAUF,EAASG,KAAMH,EAASI,OAGjD,sBAAKrE,UAAU,sCAAf,UACI,gCACKC,KAAKsB,MAAMJ,YACNlB,KAAKqE,sBAAsB,SAAU,SAAUrE,KAAKyB,eACpDzB,KAAKqE,sBAAsB,UAAW,MAAOrE,KAAKe,SACxD,wBAAQ+B,KAAK,SAAS/C,UAAU,yBAAyBgD,QAAS/C,KAAKkC,YAAvE,6BAIHlC,KAAKsE,uBAGd,sBAAKvE,UAAU,OAAf,UACI,0CACCC,KAAKsB,MAAMP,QACR,qBAAKhB,UAAU,SAAf,SACI,qBAAKA,UAAU,0BAAf,SAA0CC,KAAKsB,MAAMa,WAGzD,gCAxIxB,+BAgJQ,OACI,sBAAKpC,UAAU,YAAf,UACI,+DACCC,KAAKuE,0BAnJtB,GAAgCrE,aAAnBS,EAYeyB,iBAAmB,iBAZlCzB,EAaeJ,QAAU,IAAID,EAb7BK,EAgBMoB,S,UAAmBpB,EAAWJ,QAAQyB,aAAavB,IAAIE,EAAWyB,yB,QAAqB,GCjCnG,IAAMoC,EAAb,0KAEQ,OACI,gCACI,qFACyD,IACrD,mBAAGpE,KAAK,mCAAR,qCAEJ,0EAC8C,IAC1C,mBAAGA,KAAK,sCAAR,6CAVpB,+BAiBQ,OACI,sBAAKL,UAAU,YAAf,UACI,uDACCC,KAAKyE,mBApBtB,GAA6BvE,aCKhBwE,EAAb,kDACI,WAAY9D,GAAiB,IAAD,8BACxB,cAAMA,IACDU,MAAQ,CAAEqD,QAASD,EAAQzB,KAAM2B,WAAO9D,GAFrB,EADhC,wLAS6BA,IAAjB4D,EAAQzB,KATpB,0CAWuC4B,MAAM,eAX7C,cAWsBC,EAXtB,gBAYqCA,EAAS7B,OAZ9C,OAYgByB,EAAQzB,KAZxB,gEAcgB8B,QAAQH,MAAR,MACA5E,KAAKiB,SAAS,CAAE0D,aAAS7D,EAAW8D,MAAM,EAAD,KAfzD,2BAmBQ5E,KAAKiB,SAAS,CAAE0D,QAASD,EAAQzB,KAAM2B,WAAO9D,IAnBtD,sJAuBQ,YAAyBA,IAArBd,KAAKsB,MAAMsD,MAEP,0DAEI,uBACC5E,KAAKsB,MAAMsD,cAIG9D,IAAvBd,KAAKsB,MAAMqD,QACJ,mDAEJ,8BAAM3E,KAAKsB,MAAMqD,YAnChC,+BAuCQ,OACI,sBAAK5E,UAAU,YAAf,UACI,yCACCC,KAAKgF,uBA1CtB,GAA6B9E,aAAhBwE,EAMMzB,UAA2BnC,E,ICVxCmE,E,uKAEE,OACI,qBAAKlF,UAAU,SAAf,SACI,wBAAQA,UAAU,+BAAlB,SACI,oBAAGA,UAAU,cAAb,kEAC2D,cAAC,IAAD,CAAMD,GAAG,WAAT,kBAD3D,e,GALCI,aAcNgF,cAAWD,G,QCfbE,EAAb,uKAEQ,OACI,8CAAKC,QAAQ,cAAcC,OAAO,MAAMC,MAAM,OAAUtF,KAAKY,OAA7D,cACI,oBAAG2E,WAAY,IAAKC,WAAW,YAA/B,UACI,oBACIC,aAAW,IACXC,MAAO,CACHC,WAAY,KACZC,qBAAsB,SACtBC,gBAAiB,SACjBC,mBAAoB,SACpBC,qBAAsB,UAE1BC,SAAU,QACVC,KAAK,UACLC,YAAa,MAXjB,UAaI,sBACIR,MAAO,CACHE,qBAAsB,SACtBC,gBAAiB,SACjBC,mBAAoB,SACpBC,qBAAsB,UAE1BI,EAAE,qiBAEN,sBACIA,EAAE,8WACFC,SAAS,eAGjB,mBACIV,MAAO,CACHC,WAAY,KACZC,qBAAsB,SACtBC,gBAAiB,SACjBC,mBAAoB,SACpBC,qBAAsB,UAN9B,SASI,sBACII,EAAE,+2EACFT,MAAO,CACHE,qBAAsB,SACtBC,gBAAiB,SACjBC,mBAAoB,SACpBC,qBAAsB,UAE1BN,aAAW,IACXO,SAAU,QACVC,KAAK,OACLC,YAAa,cAIzB,oBACIR,MAAO,CACHW,aAAc,YAElBC,QAAS,GAJb,UAMI,mBACIZ,MAAO,CACHC,WAAY,KACZC,qBAAsB,SACtBC,gBAAiB,SACjBC,mBAAoB,SACpBC,qBAAsB,SACtBM,aAAc,UAPtB,SAUI,sBACIX,MAAO,CACHE,qBAAsB,SACtBC,gBAAiB,SACjBC,mBAAoB,SACpBC,qBAAsB,UAE1BI,EAAE,qaACFF,KAAK,SACLR,aAAW,IACXF,WAAY,IACZS,SAAU,QACVR,WAAW,YACXU,YAAa,UAGrB,sBACIC,EAAE,ujDACFF,KAAK,sBA1F7B,GAA0B/F,aCMpBqG,E,kDACF,WAAY3F,GAA6B,IAAD,8BACpC,cAAMA,IAeF4F,gBAA8B,WAClCzB,QAAQ0B,IAAI,EAAKnF,MAAMoF,iBACvB,EAAKzF,SAAS,CAAEyF,iBAAkB,EAAKpF,MAAMoF,mBAhB7C,EAAKpF,MAAQ,CAAEoF,iBAAiB,GAFI,E,yDAKnBC,GACjB,OAAI3G,KAAKY,MAAMgG,SAASC,WAAaF,EAC1B,SAEJ,K,mCAGUA,GACjB,OAAO,sBAAM5G,UAAU,UAAhB,SAA2BC,KAAKY,MAAMgG,SAASC,WAAaF,EAAQ,YAAc,O,+BASzF,OACI,iCACI,qBAAK5G,UAAU,gDAAf,SACI,sBAAKA,UAAU,YAAf,UACI,cAAC,IAAD,CAAMA,UAAU,eAAeD,GAAG,IAAlC,SACI,cAAC,EAAD,CAAMwF,MAAM,OAAOD,OAAO,WAE9B,cAAC,IAAD,CAAMtF,UAAU,eAAeD,GAAG,IAAlC,uBAGA,wBACIC,UAAU,2BACV+C,KAAK,SACLC,QAAS/C,KAAKwG,gBACdM,gBAAc,OACdrB,aAAW,oBALf,SAOI,sBAAM1F,UAAU,0BAEpB,sBACIA,UAAS,UAAKC,KAAKsB,MAAMoF,gBAAkB,WAAa,GAA/C,oBACTK,GAAG,cAFP,UAII,qBAAIhH,UAAU,qBAAd,UACI,oBAAIA,UAAS,mBAAcC,KAAKgH,aAAa,MAA7C,SACI,eAAC,IAAD,CAAMjH,UAAU,WAAWD,GAAG,IAA9B,iBAEKE,KAAKiH,aAAa,UAG3B,oBAAIlH,UAAS,mBAAcC,KAAKgH,aAAa,UAA7C,SACI,eAAC,IAAD,CAAMjH,UAAU,WAAWD,GAAG,QAA9B,uBAEKE,KAAKiH,aAAa,cAG3B,oBAAIlH,UAAS,mBAAcC,KAAKgH,aAAa,SAA7C,SACI,eAAC,IAAD,CAAMjH,UAAU,WAAWD,GAAG,OAA9B,sBAEKE,KAAKiH,aAAa,aAG3B,oBAAIlH,UAAS,mBAAcC,KAAKgH,aAAa,WAA7C,SACI,eAAC,IAAD,CAAMjH,UAAU,WAAWD,GAAG,SAA9B,kBAEKE,KAAKiH,aAAa,kBAI/B,sBAAMlH,UAAU,cAAhB,gD,GAxEHG,aAiFVgF,cAAWqB,GC/EbW,EAAb,uKAEQ,OACI,qBAAKnH,UAAU,uDAAf,SACI,eAAC,IAAD,CAAYoH,SAAS,IAArB,UACI,cAAC,EAAD,IACA,sBAAMC,KAAK,OAAOrH,UAAU,sCAA5B,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOsH,KAAK,IAAIC,OAAK,EAACC,UAAW,kBAAM,cAAC,EAAD,OACvC,cAAC,IAAD,CAAOF,KAAK,QAAQC,OAAK,EAACC,UAAW,kBAAM,cAAC,EAAD,OAC3C,cAAC,IAAD,CAAOF,KAAK,OAAOC,OAAK,EAACC,UAAW,kBAAM,cAAC,EAAD,OAC1C,cAAC,IAAD,CAAOF,KAAK,SAASC,OAAK,EAACC,UAAW,kBAAM,cAAC,EAAD,OAC5C,cAAC,IAAD,CAAOF,KAAK,WAAWC,OAAK,EAACC,UAAW,kBAAM,cAAC,EAAD,YAGtD,cAAC,EAAD,aAfpB,GAA2BrH,a,YCH3BsH,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJC,SAASC,eAAe,W","file":"static/js/main.a7ad52cd.chunk.js","sourcesContent":["import { default as React, Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport class Home extends Component {\n    private renderHome(): JSX.Element {\n        return (\n            <div>\n                <p>This page will be the new home for the Composita language (at least for now).</p>\n                <p>\n                    Please check out the <Link to=\"/play\">Playground</Link> if you want to try it out yourself.\n                </p>\n                <p>\n                    If you want to check out the implementation itself please visit the <Link to=\"/dev\">Developer</Link>{' '}\n                    page for further information.\n                </p>\n                <p>\n                    If you want to know more about the language and its history checkout <Link to=\"/about\">About</Link>.\n                </p>\n            </div>\n        );\n    }\n\n    render(): JSX.Element {\n        return (\n            <div className=\"container\">\n                <h3>Welcome to the Composita Website</h3>\n                {this.renderHome()}\n            </div>\n        );\n    }\n}\n","import { default as React, Component } from 'react';\n\nexport class About extends Component {\n    private renderAbout(): JSX.Element {\n        return (\n            <div>\n                <p>Thank you for checking out the Composita language.</p>\n                <p>This site was created as part of my master thesis and is still a work in progress.</p>\n                <p>\n                    If you want to know more about the Composita ystem and languge feel free to check out any of the\n                    following links:\n                    <ul>\n                        <li>\n                            <a href=\"https://concurrency.ch/Research/Composita\">HSR Concurrency Lab (Composita)</a>\n                        </li>\n                        <li>\n                            <a href=\"http://www.composita.net/\">The original Composita website</a>\n                        </li>\n                        <li>\n                            <a href=\"https://github.com/Composita/original\">\n                                Github repository containing code examples and the Composita EBNF\n                            </a>\n                        </li>\n                    </ul>\n                </p>\n                <p>Cheers and have a great day</p>\n                <p>Hansruedi</p>\n            </div>\n        );\n    }\n\n    render(): JSX.Element {\n        return (\n            <div className=\"container\">\n                <h3>About</h3>\n                {this.renderAbout()}\n            </div>\n        );\n    }\n}\n","export class CodeSamples {\n    private readonly samples: Map<string, string> = new Map<string, string>([\n        [\n            'HelloWorld.Com',\n            `COMPONENT HelloWorld;\n  BEGIN\n    WRITE(\"Hello World\"); WRITELINE\nEND HelloWorld;`,\n        ],\n        [\n            'SkipCounter.Com',\n            `COMPONENT SkipCounter;\n  VARIABLE\n    i: INTEGER;\n    j: INTEGER;\n    max: INTEGER;\n  BEGIN\n    i := 1;\n    j := 1;\n    max := 100000;\n    WHILE (i < max) DO\n      WRITE(i);\n      INC(i, j);\n      INC(j);\n      WRITELINE\n    END\nEND SkipCounter;`,\n        ],\n        [\n            'ProducerConsumer.Com',\n            `COMPONENT ProducerConsumer;\n    CONSTANT \n        N = 1; (* producers *)\n        M = 1; (* consumers *)\n        K = 1000000; (* amount per producer *)\n        C = 10; (* buffer capacity *)\n        Output = FALSE;\n    \n    COMPONENT Producer REQUIRES DataAcceptor;\n        VARIABLE i: INTEGER;\n        BEGIN\n            FOR i := 1 TO K DO\n                DataAcceptor!Element(i)\n            END;\n            DataAcceptor!Finished\n    END Producer;\n    \n    COMPONENT Consumer REQUIRES DataSource;\n        VARIABLE x: INTEGER;\n        BEGIN\n            WHILE DataSource?Element DO \n                DataSource?Element(x);\n                IF Output AND (x MOD (K DIV 10) = 0) THEN WRITE(x); WRITELINE END\n            END;\n            DataSource?Finished\n    END Consumer;\n    \n    INTERFACE DataAcceptor;\n        { IN Element(x: INTEGER) } IN Finished\n    END DataAcceptor;\n    \n    INTERFACE DataSource;\n        { OUT Element(x: INTEGER) } OUT Finished\n    END DataSource;\n    \n    COMPONENT BoundedBuffer OFFERS DataAcceptor, DataSource;\n        VARIABLE \n            a[position: INTEGER]: INTEGER {ARRAY}; \n            first, last: INTEGER; \n            nofProducers: INTEGER;\n    \n        IMPLEMENTATION DataAcceptor;\n            BEGIN\n                WHILE ?Element DO {EXCLUSIVE}\n                    AWAIT(last-first < C);\n                    ?Element(a[last MOD C]); INC(last)\n                END;\n                ?Finished; \n                BEGIN {EXCLUSIVE} DEC(nofProducers) END\n        END DataAcceptor;\n    \n        IMPLEMENTATION DataSource;\n            VARIABLE stop: BOOLEAN;\n            BEGIN\n                stop := FALSE;\n                REPEAT {EXCLUSIVE}\n                    AWAIT((first < last) OR (nofProducers = 0));\n                    IF first < last THEN\n                        !Element(a[first MOD C]); INC(first)\n                    ELSE stop := TRUE\n                    END\n                UNTIL stop;\n                !Finished\n        END DataSource;\n        BEGIN\n            NEW(a, C); first := 0; last := 0; nofProducers := N\n    END BoundedBuffer;\n    \n    VARIABLE \n        buffer: BoundedBuffer; \n        producer[number: INTEGER]: Producer; \n        consumer[number: INTEGER]: Consumer; \n        i, start: INTEGER; \n    BEGIN\n        WRITE(N); WRITE(\" producers \"); WRITE(M); WRITE(\" consumers\"); WRITELINE;\n        start := SystemTime();\n        NEW(buffer); \n        FOR i := 1 TO N DO \n            NEW(producer[i]); CONNECT(DataAcceptor(producer[i]), buffer)\n        END;\n        FOR i := 1 TO M DO\n            NEW(consumer[i]); CONNECT(DataSource(consumer[i]), buffer)\n        END;\n        FOR i := 1 TO M DO DELETE(consumer[i]) END;\n        WRITE(SystemTime() - start); WRITE(\"ms\"); WRITELINE\nEND ProducerConsumer;`,\n        ],\n    ]);\n\n    getSamples(): Map<string, string> {\n        //return this.samples;\n        return new Map<string, string>([\n            ['HelloWorld.Com', this.samples.get('HelloWorld.Com') ?? ''],\n            ['SkipCounter.Com', this.samples.get('SkipCounter.Com') ?? ''],\n        ]);\n    }\n}\n","export default function() {\n  return new Worker(__webpack_public_path__ + \"static/js/system.worker.330edea8.worker.js\");\n}\n","import { default as React, Component, ChangeEvent } from 'react';\nimport { Optional } from '@composita/ts-utility-types';\n\nimport { UnControlled as CodeMirror } from 'react-codemirror2';\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/lib/codemirror.css';\n\nimport { CodeSamples } from '../assets/code-samples/examples';\n\nimport { default as CompositaSystem } from 'worker-loader!../workers/system.worker';\n\ninterface ComponentState {\n    code: string;\n    runCode: boolean;\n    output: string;\n    selectedSample: string;\n    runningCode: boolean;\n}\n\nexport class Playground extends Component<unknown, ComponentState> {\n    constructor(props: unknown) {\n        super(props);\n        this.state = {\n            runCode: false,\n            code: Playground.lastCode,\n            output: '',\n            selectedSample: Playground.defaultSelection,\n            runningCode: false,\n        };\n    }\n\n    private static readonly defaultSelection = 'HelloWorld.Com';\n    private static readonly samples = new CodeSamples();\n    private runner: Optional<Worker> = undefined;\n\n    private static lastCode: string = Playground.samples.getSamples().get(Playground.defaultSelection) ?? '';\n\n    private updateOutput(msg: string): void {\n        if (msg === undefined) {\n            return;\n        }\n        this.setState({ output: this.state.output + msg });\n    }\n\n    private updateCode(): void {\n        this.setState({ code: Playground.lastCode, runCode: true });\n    }\n\n    private runCode: () => Promise<void> = async () => {\n        this.setState({ runningCode: true });\n        this.runner?.postMessage({ fn: 'run', uri: this.state.selectedSample, code: this.state.code });\n        this.setState({ runCode: true });\n    };\n\n    private cancelRunCode: () => Promise<void> = async () => {\n        this.runner?.postMessage({ fn: 'stop' });\n        this.setState({ runCode: true });\n    };\n\n    private updateDropdownSelection: (event: ChangeEvent<HTMLSelectElement>) => void = (\n        event: ChangeEvent<HTMLSelectElement>,\n    ) => {\n        this.setState({ selectedSample: event.target.value });\n    };\n\n    private renderDropdown(): JSX.Element {\n        const samplesDropdown = new Array<JSX.Element>();\n        for (const filename of Playground.samples.getSamples().keys()) {\n            samplesDropdown.push(\n                <option key={filename} data-tokens={`${filename}`}>\n                    {filename}\n                </option>,\n            );\n        }\n        return (\n            <div className=\"d-flex mr-2\">\n                <select className=\"form-control pt-1\" data-live-search=\"true\" onChange={this.updateDropdownSelection}>\n                    {samplesDropdown}\n                </select>\n                <button type=\"button\" className=\"btn btn-info mr-1 pt-1\" onClick={this.loadSample}>\n                    Load\n                </button>\n            </div>\n        );\n    }\n\n    private loadSample: () => void = () => {\n        Playground.lastCode = Playground.samples.getSamples().get(this.state.selectedSample) ?? Playground.lastCode;\n        this.updateCode();\n    };\n\n    private clearOutput: () => void = () => {\n        this.setState({ output: '', runCode: false });\n    };\n\n    private renderRunCancelButton(cssClass: string, text: string, fn: () => void): JSX.Element {\n        return (\n            <button type=\"button\" className={`btn btn-${cssClass} pt-1 mr-1`} onClick={fn.bind(this)}>\n                {text}\n            </button>\n        );\n    }\n\n    componentDidMount(): void {\n        this.runner = new CompositaSystem();\n        this.runner.addEventListener('message', (event: { data: { output: string; running: boolean } }) => {\n            this.updateOutput(event.data.output);\n            this.setState({ runningCode: event.data.running });\n        });\n    }\n\n    componentWillUnmount(): void {\n        this.runner?.postMessage({ fn: 'stop', uri: '', code: '' });\n        this.runner?.terminate();\n    }\n\n    private renderPlayground(): JSX.Element {\n        return (\n            <div>\n                <div className=\"mb-1 pb-1\">\n                    <CodeMirror\n                        value={this.state.code}\n                        options={{\n                            mode: 'javascript',\n                            lineNumbers: true,\n                            viewportMargin: Infinity,\n                        }}\n                        onChange={(editor, _data, value) => {\n                            const position = editor.getCursor();\n                            this.setState({\n                                code: value,\n                            });\n                            Playground.lastCode = value;\n                            editor.setCursor(position.line, position.ch);\n                        }}\n                    />\n                    <div className=\"d-flex justify-content-between pt-1\">\n                        <div>\n                            {this.state.runningCode\n                                ? this.renderRunCancelButton('danger', 'Cancel', this.cancelRunCode)\n                                : this.renderRunCancelButton('success', 'Run', this.runCode)}\n                            <button type=\"button\" className=\"btn btn-secondary pt-1\" onClick={this.clearOutput}>\n                                Clear Output\n                            </button>\n                        </div>\n                        {this.renderDropdown()}\n                    </div>\n                </div>\n                <div className=\"pt-3\">\n                    <div>Output:</div>\n                    {this.state.runCode ? (\n                        <div className=\"border\">\n                            <pre className=\"pre-scrollable pt-1 m-1\">{this.state.output}</pre>\n                        </div>\n                    ) : (\n                        <div></div>\n                    )}\n                </div>\n            </div>\n        );\n    }\n\n    render(): JSX.Element {\n        return (\n            <div className=\"container\">\n                <h3>Composita Language Playground</h3>\n                {this.renderPlayground()}\n            </div>\n        );\n    }\n}\n","import { default as React, Component } from 'react';\n\nexport class DevInfo extends Component {\n    private renderDev(): JSX.Element {\n        return (\n            <div>\n                <p>\n                    All source code is published and freely available on{' '}\n                    <a href=\"https://www.github.com/Composita\">github.com/Composita</a>\n                </p>\n                <p>\n                    The node packages are published under the{' '}\n                    <a href=\"https://www.npmjs.com/org/composita\">@composita organisation</a>\n                </p>\n            </div>\n        );\n    }\n\n    render(): JSX.Element {\n        return (\n            <div className=\"container\">\n                <h3>Developer Information</h3>\n                {this.renderDev()}\n            </div>\n        );\n    }\n}\n","import { default as React, Component } from 'react';\n\ninterface ComponentState {\n    license: string | undefined;\n    error: string | undefined;\n}\n\nexport class License extends Component<unknown, ComponentState> {\n    constructor(props: unknown) {\n        super(props);\n        this.state = { license: License.text, error: undefined };\n    }\n\n    private static text: string | undefined = undefined;\n\n    async componentDidMount(): Promise<void> {\n        if (License.text === undefined) {\n            try {\n                const response = await fetch('LICENSE.txt');\n                License.text = await response.text();\n            } catch (error) {\n                console.error(error);\n                this.setState({ license: undefined, error: error });\n                return;\n            }\n        }\n        this.setState({ license: License.text, error: undefined });\n    }\n\n    private renderLicense(): JSX.Element {\n        if (this.state.error !== undefined) {\n            return (\n                <pre>\n                    Failed to load license:\n                    <br />\n                    {this.state.error}\n                </pre>\n            );\n        }\n        if (this.state.license === undefined) {\n            return <p>Loading license...</p>;\n        }\n        return <pre>{this.state.license}</pre>;\n    }\n\n    render(): JSX.Element {\n        return (\n            <div className=\"container\">\n                <h3>License</h3>\n                {this.renderLicense()}\n            </div>\n        );\n    }\n}\n","import { default as React, Component } from 'react';\nimport { Link, withRouter, RouteComponentProps } from 'react-router-dom';\n\nclass Footer extends Component<RouteComponentProps> {\n    render(): JSX.Element {\n        return (\n            <div className=\"footer\">\n                <footer className=\"footer mt-auto py-3 bg-light\">\n                    <p className=\"text-center\">\n                        Copyright &copy; 2020 Hansruedi Patzen, licensed under <Link to=\"/license\">0BSD</Link>.\n                    </p>\n                </footer>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(Footer);\n","import { default as React, Component } from 'react';\n\nexport class Icon extends Component<React.SVGProps<SVGSVGElement>> {\n    render(): JSX.Element {\n        return (\n            <svg viewBox=\"0 0 512 512\" height=\"1em\" width=\"1em\" {...this.props}>\n                <g fontWeight={400} fontFamily=\"Gill Sans\">\n                    <g\n                        aria-label=\"O\"\n                        style={{\n                            lineHeight: 1.25,\n                            fontVariantLigatures: 'normal',\n                            fontVariantCaps: 'normal',\n                            fontVariantNumeric: 'normal',\n                            fontVariantEastAsian: 'normal',\n                        }}\n                        fontSize={377.536}\n                        fill=\"#ff2a2a\"\n                        strokeWidth={9.438}\n                    >\n                        <path\n                            style={{\n                                fontVariantLigatures: 'normal',\n                                fontVariantCaps: 'normal',\n                                fontVariantNumeric: 'normal',\n                                fontVariantEastAsian: 'normal',\n                            }}\n                            d=\"M299.364 180c-35.928-.63-76.21 13.061-94.108 46.357-14.237 27.25-6.704 63.624 18.016 82.266 32.024 26.431 78.11 29.838 116.76 18.191 30.047-9.596 58.908-35.294 59.034-68.888 1.829-28.896-19.435-53.484-44.122-65.569-17.08-8.825-36.468-12.396-55.58-12.357zm-1.475-50c45.746-.995 92.374 19.517 118.61 57.775 32.73 47.014 26.387 118.154-17.145 156.453-39.502 37.366-99.804 45.71-150.759 30.973-47.363-14.166-86.108-57.814-88.255-108.159-3.788-40.678 13.428-82.676 46.25-107.434 25.542-20.76 58.75-29.834 91.3-29.608zm137.787 106H512v40h-76.324v-40z\"\n                        />\n                        <path\n                            d=\"M432.808 223.002l1.366 5.08a10.519 10.519 37.692 0010.077 7.786l17.7.135a.578.578 86.305 01.075 1.15l-21.816 3a7.408 7.408 39.373 01-8.403-6.897l-.599-9.993a.814.814 170.76 011.6-.26zM432.898 288.985l1.325-5.053a10.45 10.45 142.127 0110.028-7.8l17.7-.134a.578.578 93.695 00.075-1.15l-21.816-3a7.368 7.368 140.474 00-8.36 6.899l-.545 9.989a.81.81 8.905 001.593.25z\"\n                            fillRule=\"evenodd\"\n                        />\n                    </g>\n                    <g\n                        style={{\n                            lineHeight: 1.25,\n                            fontVariantLigatures: 'normal',\n                            fontVariantCaps: 'normal',\n                            fontVariantNumeric: 'normal',\n                            fontVariantEastAsian: 'normal',\n                        }}\n                    >\n                        <path\n                            d=\"M109.863 107.973c-.598.674-1.202 1.346-1.79 2.025.588-.679 1.192-1.35 1.79-2.025zm-5.994 7.023c-.514.628-1.034 1.254-1.54 1.885.506-.632 1.025-1.257 1.54-1.885zm-6.035 7.688c-.306.407-.618.81-.92 1.218.302-.408.614-.812.92-1.218zm-5.203 7.228c-.27.391-.547.78-.815 1.172.268-.393.545-.78.815-1.172zm-2.229 3.293c-.344.519-.694 1.034-1.033 1.555.34-.52.69-1.037 1.033-1.555zm-2.681 4.137c-.219.346-.442.69-.659 1.037.217-.347.44-.691.659-1.037zm-2.44 3.957c-.16.267-.325.531-.484.799.159-.268.324-.533.484-.8zm-4.377 7.633c-.13.237-.263.473-.392.71.128-.237.263-.473.392-.71zm-3.918 7.529c-.15.302-.303.602-.45.904.147-.302.3-.602.45-.904zm-5.552 12.178c-.068.16-.139.32-.205.48.066-.16.137-.32.205-.48zm-10.72 33.076c-.038.162-.08.323-.118.486.038-.163.08-.324.119-.486zm-2.747 13.4a1.203 1.203 0 01-1.112.885h.954c.05-.296.107-.59.158-.885zM56.537 296a1.203 1.203 0 011.09.982l.277 1.52a1.2 1.2 0 00.032.121c-.155-.874-.319-1.746-.463-2.623zm5.6 21.563l.115.423-.115-.423zm1.322 4.718l.12.406-.12-.406zm1.396 4.602l.221.69c-.073-.23-.148-.46-.22-.69zm1.504 4.594c.1.295.205.59.307.884-.102-.295-.206-.589-.307-.884zm1.666 4.728c.072.196.147.392.22.588-.073-.196-.148-.392-.22-.588zm1.71 4.531c.128.331.263.66.394.99-.13-.33-.266-.659-.395-.99zm1.806 4.49c.205.494.419.985.627 1.477-.208-.492-.422-.983-.627-1.476zm1.94 4.54c.248.565.51 1.127.763 1.691-.254-.564-.514-1.126-.764-1.691zm2.046 4.513c.316.676.645 1.348.967 2.022-.322-.674-.651-1.346-.967-2.022zm2.164 4.512c.3.608.615 1.212.92 1.818-.305-.606-.62-1.21-.92-1.818zM296.064 26.67c-68.163 0-125.535 22.22-172.117 66.666C87.845 127.94 65.802 168.83 57.81 216H0v80h57.473c4.4 26.738 13.522 52.134 27.37 76.188 20.3 35.257 47.864 62.93 82.694 83.015 34.83 20.086 77.245 30.127 127.246 30.127 60.418 0 120.597-10.46 160.6-44.555l1.46-1.271a2.2 2.2 0 00.757-1.656l.004-3.578a1.468 1.468 0 01.002-.307v-61.16l-.016-4.918a2.508 2.508 0 00-4.275-1.772l-7.305 7.26a3.297 3.297 0 01-.14.13c-38.96 38.5-98.197 52.852-147.24 52.852-51.925 0-94.554-15.813-127.888-47.437-33.334-31.625-50.002-72.008-50.002-121.154 0-48.72 16.882-89.211 50.643-121.477 33.975-32.48 76.604-48.719 127.887-48.719 45.1 0 99.036 14.867 140.484 49.05a3.408 3.408 0 01.22.165l.37.309 7.799 6.494a2.824 2.824 0 004.63-2.16l.018-4.918a1.298 1.298 0 01.008-.127V76.428a1.468 1.468 0 01-.002-.307l-.004-3.578a1.897 1.897 0 00-.828-1.564l-1.592-1.088C399.603 35.63 342.337 26.67 296.064 26.67z\"\n                            style={{\n                                fontVariantLigatures: 'normal',\n                                fontVariantCaps: 'normal',\n                                fontVariantNumeric: 'normal',\n                                fontVariantEastAsian: 'normal',\n                            }}\n                            aria-label=\"C\"\n                            fontSize={656.422}\n                            fill=\"#333\"\n                            strokeWidth={16.411}\n                        />\n                    </g>\n                </g>\n                <g\n                    style={{\n                        mixBlendMode: 'multiply',\n                    }}\n                    opacity={0.6}\n                >\n                    <g\n                        style={{\n                            lineHeight: 1.25,\n                            fontVariantLigatures: 'normal',\n                            fontVariantCaps: 'normal',\n                            fontVariantNumeric: 'normal',\n                            fontVariantEastAsian: 'normal',\n                            mixBlendMode: 'normal',\n                        }}\n                    >\n                        <path\n                            style={{\n                                fontVariantLigatures: 'normal',\n                                fontVariantCaps: 'normal',\n                                fontVariantNumeric: 'normal',\n                                fontVariantEastAsian: 'normal',\n                            }}\n                            d=\"M184.11 182.404c-16.07 21.01-24.11 45.92-24.11 74.739 0 35.757 12.905 65.535 38.713 89.334C224.643 370.158 257.026 382 295.86 382c40.679 0 74.351-11.842 101.02-35.523 11.06-9.826 19.832-20.713 26.326-32.657l-36.197-19.894c-4.413 6.124-10.027 11.797-16.858 17.015-19.171 14.742-43.137 22.114-71.894 22.114-28.635 0-52.477-7.227-71.526-21.68-19.048-14.453-28.574-32.566-28.574-54.342 0-21.227 8.467-38.877 25.387-52.955z\"\n                            fill=\"purple\"\n                            aria-label=\"O\"\n                            fontWeight={400}\n                            fontSize={377.536}\n                            fontFamily=\"Gill Sans\"\n                            strokeWidth={9.438}\n                        />\n                    </g>\n                    <path\n                        d=\"M91.535 131.521zM56.537 296a1.203 1.203 0 011.09.982l.277 1.52a1.2 1.2 0 00.032.121c-.155-.874-.319-1.746-.463-2.623zm5.6 21.563l.115.423-.115-.423zm1.322 4.718l.12.406-.12-.406zm1.396 4.602l.221.69c-.073-.23-.148-.46-.22-.69zm1.504 4.594c.1.295.205.59.307.884-.102-.295-.206-.589-.307-.884zm1.666 4.728c.072.196.147.392.22.588-.073-.196-.148-.392-.22-.588zm1.71 4.531c.128.331.263.66.394.99-.13-.33-.266-.659-.395-.99zm1.806 4.49c.205.494.419.985.627 1.477-.208-.492-.422-.983-.627-1.476zm1.94 4.54c.248.565.51 1.127.763 1.691-.254-.564-.514-1.126-.764-1.691zm2.046 4.513c.316.676.645 1.348.967 2.022-.322-.674-.651-1.346-.967-2.022zm2.164 4.512c.3.608.615 1.212.92 1.818-.305-.606-.62-1.21-.92-1.818zm2.78-209.023c-.214.394-.438.783-.649 1.18.21-.396.435-.786.649-1.18zm-5.256 10.394c-.132.28-.272.557-.403.838.131-.28.27-.558.403-.838zm-4.611 10.526c-.084.206-.173.41-.256.617.083-.207.172-.411.256-.617zM57.98 215.055a1.203 1.203 0 01-1.113.945h.942c.053-.317.117-.63.171-.945zm9.96.945H0c.008 34.04.855 48.87 0 80h67.94zm23.595-84.479C74.285 156.996 63.036 185.151 57.81 216c-4.158 33.993-3.722 44.34-.336 80 4.4 26.738 13.522 52.134 27.37 76.188 20.3 35.257 47.864 62.93 82.694 83.015 34.83 20.086 77.245 30.127 127.246 30.127 60.418 0 120.597-10.46 160.6-44.555l1.46-1.271a2.2 2.2 0 00.757-1.656l.004-3.578a1.496 1.496 0 01.002-.307v-61.16l-.016-4.918c-.006-2.227-2.696-3.342-4.275-1.772l-7.305 7.26a3.299 3.299 0 01-.14.13c-38.96 38.501-98.196 52.852-147.24 52.852-51.925 0-94.554-15.813-127.888-47.437-33.334-31.625-50.002-72.008-50.002-121.154 0-36.15 9.304-67.768 27.893-94.86z\"\n                        fill=\"purple\"\n                    />\n                </g>\n            </svg>\n        );\n    }\n}\n","import { default as React, Component } from 'react';\nimport { Link, withRouter, RouteComponentProps } from 'react-router-dom';\nimport { Icon } from '../assets/svg/composita-icon';\n\ninterface ComponentState {\n    navbarCollapsed: boolean;\n}\n\nclass Navigation extends Component<RouteComponentProps, ComponentState> {\n    constructor(props: RouteComponentProps) {\n        super(props);\n        this.state = { navbarCollapsed: true };\n    }\n\n    private setActiveCSS(route: string): string {\n        if (this.props.location.pathname === route) {\n            return 'active';\n        }\n        return '';\n    }\n\n    private setSRCurrent(route: string): JSX.Element {\n        return <span className=\"sr-only\">{this.props.location.pathname === route ? '(current)' : ''}</span>;\n    }\n\n    private onNavbarCollaps: () => void = () => {\n        console.log(this.state.navbarCollapsed);\n        this.setState({ navbarCollapsed: !this.state.navbarCollapsed });\n    };\n\n    render(): JSX.Element {\n        return (\n            <header>\n                <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n                    <div className=\"container\">\n                        <Link className=\"navbar-brand\" to=\"/\">\n                            <Icon width=\"40px\" height=\"40px\" />\n                        </Link>\n                        <Link className=\"navbar-brand\" to=\"/\">\n                            Composita\n                        </Link>\n                        <button\n                            className=\"navbar-toggler collapsed\"\n                            type=\"button\"\n                            onClick={this.onNavbarCollaps}\n                            aria-expanded=\"true\"\n                            aria-label=\"Toggle navigation\"\n                        >\n                            <span className=\"navbar-toggler-icon\"></span>\n                        </button>\n                        <div\n                            className={`${this.state.navbarCollapsed ? 'collapse' : ''} navbar-collapse`}\n                            id=\"navbarItems\"\n                        >\n                            <ul className=\"navbar-nav mr-auto\">\n                                <li className={`nav-item ${this.setActiveCSS('/')}`}>\n                                    <Link className=\"nav-link\" to=\"/\">\n                                        Home\n                                        {this.setSRCurrent('/')}\n                                    </Link>\n                                </li>\n                                <li className={`nav-item ${this.setActiveCSS('/play')}`}>\n                                    <Link className=\"nav-link\" to=\"/play\">\n                                        Playground\n                                        {this.setSRCurrent('/play')}\n                                    </Link>\n                                </li>\n                                <li className={`nav-item ${this.setActiveCSS('/dev')}`}>\n                                    <Link className=\"nav-link\" to=\"/dev\">\n                                        Developer\n                                        {this.setSRCurrent('/dev')}\n                                    </Link>\n                                </li>\n                                <li className={`nav-item ${this.setActiveCSS('/about')}`}>\n                                    <Link className=\"nav-link\" to=\"/about\">\n                                        About\n                                        {this.setSRCurrent('/about')}\n                                    </Link>\n                                </li>\n                            </ul>\n                            <span className=\"navbar-text\">Thinking Components.</span>\n                        </div>\n                    </div>\n                </nav>\n            </header>\n        );\n    }\n}\n\nexport default withRouter(Navigation);\n","import { default as React, Component } from 'react';\nimport { Route, Switch, HashRouter } from 'react-router-dom';\nimport { Home } from './home';\nimport { About } from './about';\nimport { Playground } from './playground';\nimport { DevInfo } from './dev';\nimport { License } from './license';\nimport { default as Footer } from './footer';\nimport { default as Navigation } from './navigation';\n\nexport class Index extends Component {\n    render(): JSX.Element {\n        return (\n            <div className=\"d-flex flex-column overflow-hidden min-vh-100 vh-100\">\n                <HashRouter basename=\"/\">\n                    <Navigation />\n                    <main role=\"main\" className=\"flex-grow-1 overflow-auto pt-2 mb-4\">\n                        <Switch>\n                            <Route path=\"/\" exact component={() => <Home />} />\n                            <Route path=\"/play\" exact component={() => <Playground />} />\n                            <Route path=\"/dev\" exact component={() => <DevInfo />} />\n                            <Route path=\"/about\" exact component={() => <About />} />\n                            <Route path=\"/license\" exact component={() => <License />} />\n                        </Switch>\n                    </main>\n                    <Footer />\n                </HashRouter>\n            </div>\n        );\n    }\n}\n","import { default as React } from 'react';\nimport { default as ReactDOM } from 'react-dom';\nimport { Index } from './components';\n\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Index />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}